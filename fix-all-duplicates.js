import fs from 'fs';

console.log('ğŸ› ï¸ å…¨é¢ä¿®å¤PlaceDetail.jsxä¸­çš„é‡å¤é”®...\n');

const content = fs.readFileSync('src/pages/PlaceDetail.jsx', 'utf8');

// å®šä¹‰æ‰€æœ‰é‡å¤é”®çš„ä¿®å¤æ˜ å°„
const duplicateFixes = {
  'è±èŒµæ²³ç•”': ['ç§‘éš†è±èŒµæ²³ç•”', 'æœå¡å°”å¤šå¤«è±èŒµæ²³ç•”'],
  'è€åŸåŒº': ['å¸ƒé²æ—¥è€åŸåŒº', 'ç§‘éš†è€åŸåŒº', 'æœå¡å°”å¤šå¤«è€åŸåŒº', 'çº³å°”ç™»è€åŸåŒº', 'è±é¡¿è€åŸåŒº'],
  'é£è½¦ç¾¤': ['å°å­©å ¤é˜²é£è½¦ç¾¤', 'èµæ–¯é£è½¦æ‘é£è½¦ç¾¤', 'é˜¿å°”æ¢…å‹’é£è½¦ç¾¤'],
  'è‡ªè¡Œè½¦é“': ['é˜¿å§†æ–¯ç‰¹ä¸¹è‡ªè¡Œè½¦é“', 'å¸ƒé²æ—¥è‡ªè¡Œè½¦é“'],
  'æœ¨é‹å·¥åŠ': ['èµæ–¯é£è½¦æ‘æœ¨é‹å·¥åŠ', 'é˜¿å°”æ¢…å‹’æœ¨é‹å·¥åŠ'],
  'å¥¶é…ªå†œåœº': ['èµæ–¯é£è½¦æ‘å¥¶é…ªå†œåœº', 'é˜¿å°”æ¢…å‹’å¥¶é…ªå†œåœº'],
  'ä¼ ç»Ÿå»ºç­‘': ['èµæ–¯é£è½¦æ‘ä¼ ç»Ÿå»ºç­‘', 'é˜¿å°”æ¢…å‹’ä¼ ç»Ÿå»ºç­‘'],
  'è±é¡¿å¤§å­¦': ['è±é¡¿è±é¡¿å¤§å­¦', 'é˜¿å§†æ–¯ç‰¹ä¸¹è±é¡¿å¤§å­¦'],
  'å›½ç«‹å¤ç‰©åšç‰©é¦†': ['è±é¡¿å›½ç«‹å¤ç‰©åšç‰©é¦†', 'é˜¿å§†æ–¯ç‰¹ä¸¹å›½ç«‹å¤ç‰©åšç‰©é¦†'],
  'é£è½¦åšç‰©é¦†': ['è±é¡¿é£è½¦åšç‰©é¦†', 'é˜¿å§†æ–¯ç‰¹ä¸¹é£è½¦åšç‰©é¦†'],
  'æ¤ç‰©å›­': ['è±é¡¿æ¤ç‰©å›­', 'é˜¿å§†æ–¯ç‰¹ä¸¹æ¤ç‰©å›­'],
  'è¿æ²³åŒº': ['è±é¡¿è¿æ²³åŒº', 'é˜¿å§†æ–¯ç‰¹ä¸¹è¿æ²³åŒº'],
  'åŸƒè²å°”é“å¡”': ['å·´é»åŸƒè²å°”é“å¡”', 'é‡Œæ˜‚åŸƒè²å°”é“å¡”'],
  'å¢æµ®å®«': ['å·´é»å¢æµ®å®«', 'é‡Œæ˜‚å¢æµ®å®«'],
  'å‡¯æ—‹é—¨': ['å·´é»å‡¯æ—‹é—¨', 'é‡Œæ˜‚å‡¯æ—‹é—¨'],
  'åœ£æ¯é™¢': ['å·´é»åœ£æ¯é™¢', 'é‡Œæ˜‚åœ£æ¯é™¢'],
  'åœ£å¿ƒå¤§æ•™å ‚': ['å·´é»åœ£å¿ƒå¤§æ•™å ‚', 'é‡Œæ˜‚åœ£å¿ƒå¤§æ•™å ‚'],
  'é¦™æ¦­ä¸½èˆå¤§è¡—': ['å·´é»é¦™æ¦­ä¸½èˆå¤§è¡—', 'é‡Œæ˜‚é¦™æ¦­ä¸½èˆå¤§è¡—'],
  'å‡¡å°”èµ›å®«': ['å·´é»å‡¡å°”èµ›å®«', 'é‡Œæ˜‚å‡¡å°”èµ›å®«'],
  'å†å²ä¸­å¿ƒ': ['å¸•ç»´äºšå†å²ä¸­å¿ƒ', 'è’‚æ²ƒåˆ©å†å²ä¸­å¿ƒ']
};

let newContent = content;
let fixedCount = 0;

// ä¸ºæ¯ä¸ªé‡å¤é”®åˆ›å»ºä¿®å¤
Object.entries(duplicateFixes).forEach(([originalKey, newKeys]) => {
  // æ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„è¡Œ
  const regex = new RegExp(`'${originalKey}': '([^']+)'`, 'g');
  let match;
  let matchIndex = 0;

  while ((match = regex.exec(newContent)) !== null) {
    if (matchIndex < newKeys.length) {
      const newKey = newKeys[matchIndex];
      const oldPattern = `'${originalKey}': '${match[1]}'`;
      const newPattern = `'${newKey}': '${match[1]}'`;

      newContent = newContent.replace(oldPattern, newPattern);
      console.log(`âœ… ä¿®å¤: "${originalKey}" â†’ "${newKey}"`);
      fixedCount++;
      matchIndex++;
    }
  }
});

// ä¿å­˜ä¿®å¤åçš„æ–‡ä»¶
fs.writeFileSync('src/pages/PlaceDetail.jsx', newContent);

console.log(`\nğŸ‰ æˆåŠŸä¿®å¤äº† ${fixedCount} ä¸ªé‡å¤é”®ï¼`);
console.log('ğŸ“ æ‰€æœ‰é‡å¤çš„æ™¯ç‚¹åç§°ç°åœ¨éƒ½æœ‰åŸå¸‚å‰ç¼€åŒºåˆ†');
